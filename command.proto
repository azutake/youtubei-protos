syntax = "proto2";

import "common.proto";
import "theme.proto";
import "context.proto";
import "elements/thumbnail_source.proto";
package pfinnertube;

message TextRun {
    required string text = 1;
    optional InnertubeCommand navigation_endpoint = 5;
}

message TextRuns {
    repeated TextRun runs = 1 [packed = false];
    required string simple_text = 4;
}

message SetEntityCommand {
    required string identifier = 1;
    optional bytes entity = 2;
}

message DismissComposerCommand {
    optional bool hack = 1;
}

message YpcOffsetEndpoint {
    required string params = 1;
}

message SubscribeEndpoint {
    repeated string channel_ids = 1 [packed = false];
    required string params = 3;
}

message SignInEndpoint {
    optional InnertubeCommand next_endpoint = 2;
}

message CommandExecutorCommand {
    repeated InnertubeCommand commands = 1;
}

message ShowEngagementPanelEndpoint {
    required string panel_identifier = 1;
    optional bool force_portrait = 5;
    optional EngagementPanelExtras engagement_panel_extras = 9;
}

message WatchEndpointSupportedOnesieConfig {
    oneof config {
        IosPlaybackOnesieConfig ios_playback_onesie_config = 146179543;
    }
}

message IosPlaybackOnesieConfig {
    optional CommonConfig common_config = 1;
}

message CommonConfig {
    required string url = 1;
    optional bytes ustreamer_config = 4;
}

message WatchEndpoint {
    message CoWatchabilityTypeMessage {
        optional CoWatchabilityType type = 1;
    }
    required string video_id = 1;
    optional bytes ustreamer_config = 28;
    optional CoWatchabilityTypeMessage cowatchability = 34;
    optional WatchEndpointSupportedOnesieConfig watch_endpoint_supported_onesie_config = 79857908;
}

message FeedbackEndpoint {
    required string feedback_token = 1;
}

message UrlEndpoint {
    enum TargetType {
        TARGET_UNKNOWN = 0;
        TARGET_NEW_WINDOW = 1;
    }
    required string url = 1;
    optional TargetType target = 2;
}

message BrowseEndpoint {
    required string browse_id = 2;
    required string params = 3;
    required string canonical_base_url = 4;
}

message MenuEndpoint {
    optional Renderer menu = 1;
}

message ParamsEndpoint {
    required string params = 1;
}

message ClickLoggingWrapperCommand {
    optional bool log_as_ve_click = 1;
    optional InnertubeCommand command = 2;
}

message OpenExternalUrlWithPictureInPictureCommand {
    required string url = 1;
    optional GrwOpenInOverride grw_open_in_override = 3;
    optional InnertubeCommand termination_command = 4;
}

message OptimisticUpdateCommand {

}

message SerialCommand {
    repeated InnertubeCommand commands = 1 [packed = false];
}

message LogBackToAppEventCommand {
    optional PageType page_type = 1;
}

message DynamicEntitiesCommand {
    message Transform {
        message Type {
            optional int32 type_id = 1;
            optional EkoFieldType field_type = 2;
        }

        message Variable {
            message Value {
                message MessageValue {
                    message Field {
                        optional uint32 tag = 1;
                        optional Value value = 2;
                    }

                    repeated Field fields = 1 [packed = false];
                }

                message VariableValue {
                    message Step {
                        optional uint32 field_tag = 1;
                    }
                    optional uint32 variable_id = 1;
                    repeated Step steps = 2 [packed = false];
                }

                message ChooseValue {
                }

                optional VariableValue variable_value = 2;
                optional MessageValue message_value = 3;
                optional ChooseValue choose_value = 4;
            }
            optional int32 variable_id = 1;
            optional EkoVariableType variable_type = 3;
            optional Value value = 4;
        }

        repeated Type types = 1 [packed = false];
        repeated Variable variables = 2 [packed = false];
    }
    optional SubscriptionConfig subscription_config = 1;
    optional Transform transform = 2;
}

message PanelLoadingStrategy {
    optional ContentElementRenderer inline_content = 1;
}

message ShowDialogCommand {
    optional PanelLoadingStrategy panel_loading_strategy = 1;
}

message ShowActionSheetCommand {
    optional Element footer = 2;
}

message OnTap {
    optional InnertubeCommand innertube_command                          = 169495254;
    optional OptimisticUpdateCommand optimistic_update_command           = 170382629;
}

message ContinuationCommand {
    required string token = 1;
    optional ContinuationRequestType request = 2;
}

message AppendContinuationItemsAction {
    repeated Renderer continuation_items = 2 [packed = false];
}

message InnertubeCommand {
    optional bytes click_tracking_params = 2;
    oneof command {
        ShowDialogCommand show_dialog_command                                                           = 1025;
        BrowseEndpoint browse_endpoint                                                                  = 48687626;
        WatchEndpoint watch_endpoint                                                                    = 48687757;
        UrlEndpoint url_endpoint                                                                        = 49679253;
        SignInEndpoint sign_in_endpoint                                                                 = 49706687;
        YpcOffsetEndpoint ypc_offset_endpoint                                                           = 64681250;
        FeedbackEndpoint feedback_endpoint                                                              = 65153809;
        SubscribeEndpoint subscribe_endpoint                                                            = 68997349;
        MenuEndpoint menu_endpoint                                                                      = 98150882;
        ParamsEndpoint get_report_form_endpoint                                                         = 113762617;
        ParamsEndpoint ypc_get_offline_upsell_endpoint                                                  = 133724106;
        ShowEngagementPanelEndpoint show_engagement_panel_endpoint                                      = 138681778;
        AppendContinuationItemsAction append_continuation_items_action                                  = 160980450;
        InnertubeCommand innertube_command                                                              = 169495254;
        SerialCommand serial_command                                                                    = 170382688;
        SetEntityCommand set_entity_command                                                             = 170382720;
        CommandExecutorCommand command_executor_command                                                 = 174116574;
        InnertubeCommand elements_command                                                               = 204158123;
        DynamicEntitiesCommand dynamic_entities_command                                                 = 206181248;
        ClickLoggingWrapperCommand click_logging_wrapper_command                                        = 222848684;
        ShowActionSheetCommand show_action_sheet_command                                                = 278463287;
        ContinuationCommand continuation_command                                                        = 280298060;
        LogBackToAppEventCommand log_back_to_app_event_command                                          = 300210387;
        DismissComposerCommand dismiss_composer_command                                                 = 427304386;
        OpenExternalUrlWithPictureInPictureCommand open_external_url_with_picture_in_picture_command    = 428788994;
    }
}

message EngagementPanelExtras {
    message SponsorshipsEngagementPanelExtras {
        optional Renderer header = 1;
        optional InnertubeCommand content_command = 2;
    }

    optional SponsorshipsEngagementPanelExtras sponsorships_engagement_panel_extras = 1;
}

message VideoMetadataViewModel {
    message ExpandButtonData {
        required string a11y_label = 1;
        optional bytes tracking_params = 3;
    }

    optional StringContent title = 1;
    optional OnTap on_tap = 4;
    optional bytes tracking_params = 6;
    optional ExpandButtonData expand_button_data = 12;
    optional ViewModel video_subtitle = 17;
    repeated ViewModel video_badges = 20 [packed = false];
    optional VideoMetadataStyle video_metadata_style = 22;
}

message VideoSubtitleViewModel {
    message BadgesTextData {
        required string text = 1;
        optional int32 text_length = 2;
        repeated Run style_runs = 3 [packed = false];
        repeated Run decoration_runs = 4 [packed = false];
        repeated Run attachment_runs = 5 [packed = false];
        required string a11y_text = 7;
    }

    optional StringKey view_count_entity = 2;
    optional StringContent view_count = 3;
    optional StringContent date = 4;
    optional int32 view_count_length = 5;
    optional int32 date_length = 6;
    optional StringContent truncation_text = 11;
    optional int32 truncation_text_length = 12;
    optional OnTap truncation_text_on_tap = 14;
    required string date_a11y_label = 15;
    optional BadgesTextData badges_text_data = 16;
    optional VideoSubtitleViewModelStyle style = 17;
    optional DynamicMetadataAnimationType view_count_animation = 20;
    optional StringKey upload_time_entity = 21;
}

message VideoBadgeViewModel {
    required string label = 1;
    required string icon_name = 2;
    optional VideoBadgeViewModelStyle style = 6;
    optional bytes tracking_params = 8;
    required string accessibility_label = 9;
}

message CompactChannelBarViewModel {
    optional bytes tracking_params = 12;
    optional float height = 22;
    optional ViewModel sponsor_button = 23;
    optional ViewModel subscribe_button = 24;
}

message TimedAnimationButtonViewModel {
    message TimedAnimationData {
        optional bytes tracking_params = 16;
    }
    optional ViewModel button_view_model = 1;
    optional TimedAnimationData timed_animation_data = 2;
}

message SubscriptionStateEntity {
    required string key = 1;
    optional bool subscribed = 2;
}

message SubscribeButtonViewModel {
    message ButtonContent {
        required string button_text = 1;
        required string accessibility_text = 2;
        required string image_name = 3;
        optional SubscriptionStateEntity subscribe_state = 4;
        optional OnTap on_tap_command = 5;
    }

    optional ButtonContent subscribe_button_content = 1;
    optional ButtonContent unsubscribe_button_content = 2;
}

message NotificationBellViewModel {

}

message ChannelBarHeaderViewModel {

}

message ButtonViewModel {
    oneof title_oneof {
        string title = 3;
        AttributedString title_formatted = 19;
    }
    optional OnTap on_tap = 4;
    required string accessibilityText = 5;
    optional ButtonViewModelStyle style = 7;
    optional bytes tracking_params = 8;
    optional bool is_full_width = 10;
    optional ButtonViewModelType type = 11;
    optional ButtonViewModelSize button_size = 13;
    optional ButtonViewModelState state = 14;
    required string target_id = 30;
    optional ThumbnailSource icon_image = 35;
}

message PanelFooterViewModel {
    optional ViewModel primary_button = 3;
    optional bool should_hide_divider = 6;
}

message DialogViewModel {
    optional ViewModel footer = 2;
    optional ViewModel content = 3;

}

message BasicContentViewModel {
    message Paragraph {
        optional AttributedString text = 2;
    }

    repeated Paragraph paragraphs = 2 [packed = false];
}

message PageHeaderViewModel {
    optional ViewModel title = 2;
    optional ViewModel image = 3;
    optional ViewModel metadata = 4;
    optional ViewModel actions = 5;
    optional ViewModel description = 6;
    optional ViewModel attribution = 7;
    optional ViewModel banner = 10;
}

message DynamicTextViewModel {
    optional AttributedString text = 1;
    optional uint32 max_lines = 2;
}

message DecoratedAvatarViewModel {
    optional ViewModel avatar = 1;
}

message ContentMetadataViewModel {
    message MetadataRow {
        message MetadataPart {
            optional AttributedString text = 2;
        }

        repeated MetadataPart metadata_parts = 1 [packed = false];
    }

    repeated MetadataRow metadata_rows = 1 [packed = false];
    required string delimiter = 2;
}

message ImageBannerViewModel {

}

message DescriptionPreviewViewModel {
    optional AttributedString description = 1;
    optional uint32 max_lines = 2;
    optional AttributedString truncation_text = 3;
}

message ViewModel {
    oneof viewModel {
        VideoSubtitleViewModel video_subtitle_view_model                = 1017;
        VideoMetadataViewModel video_metadata_view_model                = 1019;
        PanelFooterViewModel panel_footer_view_model                    = 1052;
        DecoratedAvatarViewModel decorated_avatar_view_model            = 1105;
        CompactChannelBarViewModel compact_channel_bar_view_model       = 1107;
        ImageBannerViewModel image_banner_view_model                    = 1127;
        BasicContentViewModel basic_content_view_model                  = 1382;
        DialogViewModel dialog_view_model                               = 36852;
        TimedAnimationButtonViewModel timed_animation_button_view_model = 302542834;
        ButtonViewModel button_view_model                               = 461054335;
        VideoBadgeViewModel video_badge_view_model                      = 504944834;
        PageHeaderViewModel page_header_view_model                      = 508686415;
        DynamicTextViewModel dynamic_text_view_model                    = 509603841;
        ContentMetadataViewModel content_metadata_view_model            = 514549827;
        SubscribeButtonViewModel subscribe_button_view_model            = 518912898;
        DescriptionPreviewViewModel description_preview_view_model      = 524902670;
    }
}

message IdentifierAndResultPath {
    required string identifier = 1;
    repeated int32 result_path = 2 [packed = false];
    optional int32 result_field = 3;
}

message MappingsAndResultField {
    repeated IdentifierAndResultPath mappings = 1 [packed = false];
    optional int32 result_field = 2;
}

message SubscriptionConfig {
    message EnvironmentSubscriptionConfig {
        optional int32 result_field = 1;
        optional int32 environment_data_field = 2;
    }

    optional MappingsAndResultField data_store_subscription_config           = 188490103;
    optional EnvironmentSubscriptionConfig environment_subscription_config   = 212323971;
    optional MappingsAndResultField theme_subscription_config                = 386334485;
    optional MappingsAndResultField capabilities_subscription_config         = 386334486;
}

message ComponentType {
    message TemplateConfig {
        optional UriTemplateConfig uri_template_config       = 172035250;
    }
    optional TemplateConfig template_config = 3;

    optional Model model = 5;
    optional SubscriptionConfig subscription_config = 6;
}

message Image {
    message Url {
        required string url = 1;
    }

    repeated Url sources = 1 [packed = false];
}

message CellType {

}

message ImageType {
    optional Image image = 1;
}

message IdentifierProperties {
    required string identifier = 1;
    required string unique_logging_identifier = 6;
}

message LayoutProperties {
    message Layout {
        optional float value = 1;
        optional DimensionUnit unit = 2;
    }

    message Margin {
        optional Layout top = 1;
    }

    optional Layout height = 2;
    optional Layout width = 3;
    optional Margin margin = 8;
}

message Element {
    message Type {
        oneof type {
            ImageType image_type                        = 158796345;
            CellType cell_type                          = 160982084;
            ComponentType component_type                = 168777401;
        }
    }

    message Properties {
        optional LayoutProperties layout_properties          = 168772996;
        optional IdentifierProperties identifier_properties  = 183314536;
    }
    optional Type type = 1;
    optional Properties properties = 2;
    repeated Element child_element = 3 [packed = false];
}

message ElementRenderer {
    optional bytes tracking_params = 5;
    optional Element new_element                             = 172660663;
}

message ContentElementRenderer {
    optional ElementRenderer element_renderer                = 153515154;
}

message CompanionAdRenderer {
    optional bool hack = 1;
    optional bytes tracking_params = 9;
}

message EngagementPanelSectionListRenderer {
    required string panel_identifier = 1;
    optional Renderer header = 2;
    optional Renderer content = 3;
    optional int32 ve_type = 5;
    optional bool disable_pull_refresh = 6;
    optional EngagementPanelResizability resizability = 13;
    optional EngagementPanelAutoplay engagement_planel_autoplay = 17;
    optional bool allow_replace = 20;
    optional LoggingDirectives logging_directives = 999;
}

message EngagementPanelTitleHeaderRenderer {
    optional TextRuns title = 1;
    optional Renderer action_button = 6;
    optional bytes tracking_params = 12;
    optional Renderer subheader = 19;
}

message ContentElementRendererMultiple {
    repeated ContentElementRenderer contents = 1;
}

message ContentElementRendererSingle {
    optional ContentElementRenderer content = 1;
}

message PlayerOverlayRenderer {
    optional Renderer overflow_menu = 2;
}

message MenuRenderer {
    repeated Renderer items = 1 [packed = false];
    optional bytes tracking_params = 4;
    optional Accessibility accessibility = 10;
}

message ReportFormModalRenderer {
    optional Renderer options_supported_renderers = 1;
    optional bytes tracking_params = 3;
    optional TextRuns title = 4;
    optional Renderer submit_button = 5;
    optional Renderer cancel_button = 6;
    repeated TextRuns footer = 8;
    optional Renderer next_button = 9;
}

message ButtonRenderer {
    enum Style {
        STYLE_UNKNOWN = 0;
        STYLE_TEXT = 7;
        STYLE_BLUE_TEXT = 13;
        STYLE_BRAND = 14;
    }

    enum Size {
        SIZE_UNKNOWN = 0;
        SIZE_DEFAULT = 1;
    }

    message ElementsButton {
        required string title = 3;
        optional InnertubeCommand on_tap = 4;
        required string accessibility_text = 5;
        optional ButtonStyle button_style = 7;
        optional bytes tracking_params = 8;
        optional ButtonType type = 11;
        optional ButtonState state = 14;
        required string target_id = 30;
    }

    optional Style style = 1;
    optional Size size = 2;
    optional bool is_disabled = 3;
    optional TextRuns text = 5;
    optional Icon icon = 8;
    optional InnertubeCommand navigation_endpoint = 9;
    optional AccessibilityData accessibility = 10;
    optional bytes tracking_params = 13;
    optional InnertubeCommand command = 19;
    optional ElementsButton elements_button = 24;
}

message OptionsRenderer {

}

message Continuations {
    message ReloadContinuationData {
        required string continuation = 1;
        optional bytes click_tracking_params = 2;
    }

    optional ReloadContinuationData reload_continuation_data = 60487319;
}

message RendererLabel {
    optional AttributedString elements_attributed_string = 5;
}

message SectionListRenderer {
    repeated Renderer contents = 1 [packed = false];
    optional Continuations continuations = 2;
    optional bytes tracking_params = 4;
}

message SeparatorDetails {
    optional bool has_bottom_separator = 1;
}

message ItemSectionRenderer {
    repeated ContentElementRenderer contents = 1 [packed = false];
    optional bytes tracking_params = 4;
    optional bool hide_bottom_separator = 8;
    optional SeparatorDetails separator_details = 10;
}

message CinematicContainerRenderer {
    message GradientColorConfig {
        optional uint32 dark_theme_color = 2;
        optional float start_location = 3;
    }

    message Config {
        message AnimationConfig {
            optional uint32 minImageUpdateIntervalMs = 1;
            optional uint32 crossfadeDurationMs = 2;
            optional float crossfadeStartOffset = 3;
            optional uint32 maxFrameRate = 4;
        }
        
        message WatchFullscreenConfig {
            optional float colorSourceWidthMultiplier = 1;
            optional float colorSourceHeightMultiplier = 2;
            optional float scrimWidthMultiplier = 3;
            optional float scrimHeightMultiplier = 4;
            optional uint32 flatScrimColor = 5;
        }
        optional uint32 lightThemeBackgroundColor = 1;
        optional uint32 darkThemeBackgroundColor = 2;
        optional AnimationConfig animation_config = 3;
        optional float colorSourceSizeMultiplier = 4;
        optional bool applyClientImageBlur = 5;
        optional float bottomColorSourceHeightMultiplier = 6;
        optional float maxBottomColorSourceHeight = 7;
        optional float colorSourceWidthMultiplier = 8;
        optional float colorSourceHeightMultiplier = 9;
        optional float blurStrength = 10;
        optional bool settingOnByDefault = 11;
        optional WatchFullscreenConfig watch_fullscreen_config = 13;
    }

    repeated GradientColorConfig gradient_color_config = 2 [packed = false];
    optional CinematicContainerPresentationStyle presentation_style = 3;
    optional Config config = 4;
}

message SentimentFactoidRenderer {
    optional LikeStatusEntity like_status_entity = 1;
    optional Renderer factoid_if_liked = 2;
    optional Renderer factoid_if_disliked = 3;
    optional Renderer factoid_if_indifferent = 4;
    optional StringKey like_count_entity = 5;
}

message ViewCountFactoidRenderer {
    required string view_count_entity_key = 1;
    optional Renderer factoid = 2;
    optional ViewCountFactoidType view_count_type = 3;
}

message FactoidRenderer {
    optional RendererLabel value = 1;
    optional RendererLabel label = 2;
    required string accessibility_text = 3;
    optional AnimatedValueData animated_value_data = 5;
}

message AccessibilityData {
    required string label = 2;
}

message Accessibility {
    optional AccessibilityData accessibility_data = 75730170;
}

message TextWithAccessibility {
    repeated TextRun runs = 1 [packed = false];
    optional Accessibility accessibility = 3;
}

message Icon {
    enum IconType {
        UNKNOWN = 0;
        FLAG = 52;
        HELP = 80;
        MORE_VERT = 254;
    }

    optional IconType icon_type = 1;
}

message MenuNavigationItemRenderer {
    optional TextWithAccessibility text = 1;
    optional Icon icon = 2;
    optional InnertubeCommand navigation_endpoint = 3;
    optional bytes tracking_params = 5;
}

message MenuServiceItemRenderer {
    optional TextWithAccessibility text = 1;
    optional Icon icon = 2;
    optional InnertubeCommand service_endpoint = 3;
    optional bytes tracking_params = 5;
    optional LoggingDirectives logging_directives = 999;
}

message ThumbnailDetails {
    message ElementsImage {
        repeated ThumbnailSource sources = 1 [packed = false];
    }

    message Thumbnail {
        required string url = 1;
        optional int32 width = 2;
        optional int32 height = 3;
    }

    repeated Thumbnail thumbnails = 1 [packed = false];

    optional ElementsImage elements_image = 10;
}

message MediaLockupRenderer {
    optional RendererLabel title = 1;
    optional RendererLabel subtitle = 2;
    optional ThumbnailDetails thumbnail_details = 3;
    optional InnertubeCommand endpoint = 4;
    optional bytes tracking_params = 6;
}

message TopicLinkRenderer {
    optional RendererLabel title = 1;
    optional ThumbnailDetails thumbnail_details = 2;
    optional InnertubeCommand endpoint = 3;
    optional bytes tracking_params = 6;
}

message CompactInfocardRenderer {
    optional Renderer content = 1;
    optional RendererLabel creator_message = 2;
    optional bytes tracking_params = 5;
}

message StructuredDescriptionChannelLockupRenderer {
    optional ThumbnailDetails thumbnail = 1;
    optional RendererLabel title = 2;
    optional RendererLabel subscriber_count_text = 3;
    optional InnertubeCommand navigation_endpoint = 4;
    optional bytes tracking_params = 6;
    optional bool disable_navigation_endpoint = 7;
    optional float thumbnail_width = 8;
    optional int32 max_lines_title = 9;
    optional int32 max_lines_subscriber_count_text = 10;
}

message RecognitionShelfRenderer {
    optional RendererLabel title = 1;
    repeated ThumbnailDetails avatars = 3 [packed = false];
    optional Renderer button = 4;
    optional RecognitionShelfSurface surface = 5;
}

message MiniplayerRenderer {
    optional PlaybackMode playback_mode = 1;
}

message CaptionTrack {
    required string base_url = 1;
    optional TextRuns name = 2;
    required string vss_id = 3;
    required string language_code = 4;
    required string kind = 5;
    optional bool is_translatable = 7;
    required string track_name = 11;
}

message AudioTrack {
    repeated int32 caption_track_indices = 2 [packed = false];
}

message TranslationLanguage {
    required string language_code = 1;
    optional TextRuns language_name = 2;
}

message PlayerCaptionsTracklistRenderer {
    repeated CaptionTrack caption_tracks = 1 [packed = false];
    repeated AudioTrack audio_tracks = 2 [packed = false];
    repeated TranslationLanguage translation_languages = 3 [packed = false];
    optional int32 default_audio_track_index = 4;
    repeated int32 default_translation_source_track_indices = 6 [packed = false];
}

message PlayerAttestationRenderer {
    required string challenge = 1;
}

message PlayerMicroformatRenderer {
    message Embed {
        required string iframe_url = 1;
        optional uint32 width = 3;
        optional uint32 height = 4;
    }

    message LiveBroadcastDetails {
        optional bool is_live_now = 1;
        required string start_timestamp = 2;
        required string end_timestamp = 3;
    }

    optional ThumbnailDetails thumbnail = 1;
    optional Embed embed = 2;
    optional TextRuns title = 3;
    optional TextRuns description = 4;
    optional uint32 length_seconds = 5;
    required string owner_profile_url = 6;
    required string external_channel_id = 8;
    optional bool is_family_safe = 9;
    repeated string available_countries = 10 [packed = false];
    optional bool is_unlisted = 11;
    optional bool has_ypc_metadata = 12;
    required string view_count = 14;
    required string category = 15;
    required string published_date = 16;
    required string owner_channel_name = 17;
    optional LiveBroadcastDetails live_broadcast_details = 18;
    required string upload_date = 19;
    optional bool is_shorts_eligible = 22;
}

message PlayerErrorMessageRenderer {
    optional TextRuns subreason = 1;
    optional TextRuns reason = 3;
}

message SingleColumnWatchNextResultsRenderer {

}

message TwoColumnWatchNextResultsRenderer {
    optional Renderer results = 1;
    optional Renderer secondary_results = 2;
}

message VideoPrimaryInfoRenderer {
    optional TextRuns title = 1;
    optional Renderer view_count = 3;
    optional Renderer video_actions = 4;
}

message VideoViewCountRenderer {
    optional TextRuns view_count = 1;
    optional TextRuns extra_short_view_count = 5;
    required string entity_key = 6;
    optional uint64 original_view_count = 9;
}

message WatchNextSecondaryResultsRenderer {
    repeated Renderer results = 1 [packed = false];
}

message CompactVideoRenderer {
    required string video_id = 1;
    optional ThumbnailDetails thumbnail = 2;
    optional TextRuns title = 3;
    optional TextRuns long_byline_text = 4;
    optional TextRuns published_time_text = 5;
    optional TextRuns view_count_text = 6;
    optional TextRuns length_text = 7;
    optional InnertubeCommand navigation_endpoint = 8;
    optional TextRuns short_byline_text = 10;
    repeated Renderer badges = 13 [packed = false];
    optional ThumbnailDetails channel_thumbnail = 14;
    repeated Renderer owner_badges = 15 [packed = false];
    optional bytes trakcing_params = 18;
    optional TextRuns short_view_count_text = 23;
    optional Renderer menu = 25;
    repeated Renderer thumbnail_overlays = 32 [packed = false];
}

message ContinuationItemRenderer {
    optional ContinuationTrigger trigger = 1;
    optional InnertubeCommand continuation_endpoint = 2;
}

message InteractiveTabbedHeaderRenderer {
    optional InteractiveTabbedHeaderRendererType type = 1;
    optional TextRuns title = 2;
    optional TextRuns description = 3;
    optional TextRuns metadata = 4;
    repeated Renderer badges = 5 [packed = false];
    optional ThumbnailDetails box_art = 6;
    optional ThumbnailDetails banner = 7;
    repeated Renderer buttons = 8 [packed = false];
    optional TextRuns auto_generated = 9;
}

message MetadataBadgeRenderer {
    optional BadgeStyleType style = 2;
    required string label = 3;
    optional bytes tracking_params = 6;
}

message PageHeaderRenderer {
    required string page_title = 1;
    optional ViewModel content = 2;
}

message ChannelMetadataRenderer {
    required string title = 1;
    required string description = 2;
    required string rss_url = 3;
    required string external_id = 8;
    required string keywords = 11;
    repeated string owner_urls = 12;
    optional ThumbnailDetails avatar = 14;
    required string channel_url = 15;
    optional bool is_family_safe = 16;
    repeated string available_country_codes = 18 [packed = false];
    required string music_artist_name = 20;
    required string android_deep_link = 21;
    required string android_appindexing_link = 24;
    required string ios_appindexing_link = 25;
    required string vanity_channel_url = 27;
}

message Renderer {
    oneof renderers {
        SectionListRenderer section_list_renderer                                                   = 49399797;
        ItemSectionRenderer item_section_renderer                                                   = 50195462;
        CompactVideoRenderer compact_video_renderer                                                 = 50630979;
        PlayerCaptionsTracklistRenderer player_captions_tracklist_renderer                          = 51621377;
        SingleColumnWatchNextResultsRenderer single_column_watch_next_results                       = 51779735;
        TwoColumnWatchNextResultsRenderer two_column_watch_next_results                             = 51779759;
        WatchNextSecondaryResultsRenderer secondary_results                                         = 51779776;
        CompanionAdRenderer companion_ad_renderer                                                   = 55514441;
        ChannelMetadataRenderer channel_metadata_renderer                                           = 57075253;
        PlayerErrorMessageRenderer player_error_message_renderer                                    = 58356580;
        PlayerMicroformatRenderer player_microformat_renderer                                       = 58514816;
        PlayerAttestationRenderer player_attestation_renderer                                       = 59961494;
        ButtonRenderer button_renderer                                                              = 65153809;
        MenuRenderer menu_renderer                                                                  = 66439850;
        MenuNavigationItemRenderer menu_navigation_item_renderer                                    = 66441108;
        MenuServiceItemRenderer menu_service_item_renderer                                          = 66441155;
        VideoViewCountRenderer video_view_count_renderer                                            = 70044402;
        OptionsRenderer options_renderer                                                            = 77875886;
        PlayerOverlayRenderer player_overlay_renderer                                               = 78882851;
        VideoPrimaryInfoRenderer video_primary_info_renderer                                        = 100048340;
        ReportFormModalRenderer report_form_modal_renderer                                          = 113762946;
        MetadataBadgeRenderer metadata_badge_renderer                                               = 128361622;
        EngagementPanelSectionListRenderer engagement_panel_section_list_renderer                   = 138681066;
        EngagementPanelTitleHeaderRenderer engagement_panel_title_header_renderer                   = 138681548;
        ContinuationItemRenderer continuation_item_renderer                                         = 159495980;
        InteractiveTabbedHeaderRenderer interactive_tabbed_header_renderer                          = 188799247;
        MiniplayerRenderer miniplayer_renderer                                                      = 207720144;
        ContentElementRendererMultiple slim_video_metadata_section_renderer                         = 216561405;
        FactoidRenderer factoid_renderer                                                            = 324315956;
        SentimentFactoidRenderer sentiment_factoid_renderer                                         = 327708604;
        TopicLinkRenderer topic_link_renderer                                                       = 346199844;
        MediaLockupRenderer media_lockup_renderer                                                   = 352674673;
        ViewCountFactoidRenderer view_count_factoid_renderer                                        = 357814204;
        CompactInfocardRenderer compact_infocard_renderer                                           = 370471196;
        StructuredDescriptionChannelLockupRenderer structured_description_channel_lockup_renderer   = 375527320;
        ContentElementRendererSingle filter_chip_bar_element_renderer                               = 420115721;
        RecognitionShelfRenderer recognition_shelf_renderer                                         = 432471502;
        CinematicContainerRenderer cinematic_container_renderer                                     = 455752576;
        PageHeaderRenderer page_header_renderer                                                     = 509923604;
    }
}

message ProductItem {
    message VendorInfo {
        required string context = 1;
        repeated StyleRun style_runs = 6 [packed = false];
    }
    required string product_title = 1;
    required string product_description = 2;
    required string price = 3;
    required string vendor_name = 4;
    optional bytes tracking_params = 7;
    optional InnertubeCommand on_tap_command = 9;
    required string accessibility_label = 12;
    required string additional_ffes_text = 16;
    optional bool stay_in_app = 19;
    required string vendor_logo_url = 24;
    required string cta_description_text = 25;
    repeated ThumbnailSource thumbnail_sources = 30 [packed = false];
    optional VendorInfo vendor_info = 31;
    optional uint64 offser_doc_id = 32;
    optional bytes featured_product_identifier = 46;
    optional bool enable_belly_bar_for_featured_product = 56;
    required string encoded_offer_sku_id = 57;
    optional LoggingDirectives logging_directives = 999;
}

message GestureOptions {
    message AccessibilityInfo {
        required string accesibility_label = 1;
    }

    optional AccessibilityInfo accessibility_info = 1;
}

message CommandRun {
    optional uint32 start_index = 1;
    optional uint32 length = 2;
    optional InnertubeCommand on_tap = 3;
    optional GestureOptions on_tap_options = 5;
    optional LoggingDirectives logging_directives = 999;
}

message AttachmentRun {
    enum Alignment {
        ALIGNMENT_UNKNOWN = 0;
        ALIGNMENT_VERTICAL_CENTER = 3;
    }
    optional uint32 start_index = 1;
    optional uint32 length = 2;
    optional Element element = 3;
    optional Alignment alignment = 4;
}

message HighlightTextDecorator {
    optional uint32 start_index = 1;
    optional uint32 length = 2;
    optional uint32 background_color = 3;
    optional float background_corner_radius = 4;
    optional float bottom_padding = 8;
}

message HorizontalFadedScrimTextDecorator {
    optional float width = 1;
    optional float padding_leading = 2;
}

message TextDecorator {
    oneof decorator {
        HighlightTextDecorator highlight_text_decorator                         = 389740320;
        HorizontalFadedScrimTextDecorator horizontal_faded_scrim_text_decorator = 381326004;
    }
}

message DecorationRun {
    optional TextDecorator text_decorator = 1;
}

message AttributedString {
    required string content = 1;
    repeated CommandRun command_runs = 5 [packed = false];
    repeated StyleRun style_runs = 6 [packed = false];
    repeated AttachmentRun attachment_runs = 8 [packed = false];
    repeated DecorationRun decoration_runs = 10 [packed = false];
}

message ShoppingLinkItem {
    required string item_title = 1;
    required string url_text = 2;
    required string price_or_status = 4;
    repeated ThumbnailSource thumbnail_sources = 6 [packed = false];
    optional InnertubeCommand on_tap_command = 7;
    required string accessibility_label = 8;
    optional LoggingDirectives logging_directives = 999;
}

message Model {
    message FilterChipBarModel {
        optional Theme theme = 1;
        required string static_key = 2;
        optional InnertubeCommand apply_filter_command = 4;
    }

    message VideoMetadataModel {
        optional ModelContext context = 4;
        optional ViewModel view_model = 6;
        optional bool use_theme_from_context = 16;
    }

    message CompactChannelBarModel {
        optional ModelContext context = 2;
        optional StringKey subscribe_state = 3;
        optional ViewModel compact_channel_bar_view_model = 9;
    }

    message OverflowMenuItemModel {
        
    }

    message GamingSectionModel {
        message ModelRenderer {
            optional RendererLabel section_title = 1;
            repeated Renderer media_lockups = 2 [packed = false];
            optional Renderer topic_link = 3;
        }

        optional ModelRenderer renderer = 1;
        optional ModelContext context = 3;
    }

    message ProductEngagementPanelModel {
        message StoreButtonData {
            required string button_text = 1;
            optional bytes tracking_params = 3;
        }

        optional StoreButtonData store_button_data = 2;
        required string product_endpoint_enttiy_key = 6;
    }

    message ProductItemModel {
        optional ProductItem product_item_data = 1;
        optional int32 index = 5;
        optional ModelContext context = 11;
    }

    message CellDescriptionBodyModel {
        message BodyRenderer {
            message LoggingData {
                optional bytes tracking_params = 2;
            }
            optional int32 collapsed_line_count = 2;
            required string truncation_text = 3;
            optional LoggingData expand_logging_data = 4;
            optional LoggingData collapse_logging_data = 5;
            optional LoggingData logging_data = 8;
            optional AttributedString attributed_description_body_text = 10;
            optional bool enable_granular_text_selection = 14;
            optional bool enable_stylized_pill_links_custom_a11y_label = 16;
        }

        optional BodyRenderer renderer = 1;
        optional ModelContext context = 6;
    }

    message VideoDescriptionHeaderModel {
        message VideoDescriptionHeader {
            message ChannelAttributionData {
                message ChannelAvatar {

                    optional Image image = 1;
                    optional AvatarSize avatar_image_size = 4;
                    optional InnertubeCommand endpoint = 5;
                }
                required string channel_name = 1;
                optional ChannelAvatar channel_avatar = 2;
                optional bytes tracking_params = 3;
            }
            optional StringContent video_title = 1;
            required string channel_name = 2;
            required string view_count_text = 3;
            required string date_text = 4;
            repeated Renderer factoid_renderer_set = 6 [packed = false];
            optional ChannelAttributionData channel_attribution_data = 13;
        }

        optional VideoDescriptionHeader video_description_header = 1;
        optional StringKey view_count_entity = 3;
        optional ModelContext context = 4;
    }

    message ExpandableListModel {
        message ExpandableListData {
            message ButtonContent {
                required string text = 1;
                optional InnertubeCommand command = 2;
                optional bool always_show_button = 3;
                optional LoggingDirectives logging_directives = 999;
            }
            optional AttributedString title = 1;
            optional uint32 default_visible_items_count = 3;
            optional bool is_all_affiliate_products = 5;
            optional AttributedString subtitle = 7;
            repeated ShoppingLinkItem shopping_link_items = 10 [packed = false];
            optional ButtonContent bottom_button = 11;
            optional ExpandableListCornerStyle corner_style = 12;
            optional LoggingDirectives logging_directives = 999;
        }
        optional ModelContext context = 2;
        optional ExpandableListData expandable_list_data = 3;
        required string expanded_state_key = 6;
        optional bool match_background_to_description = 9;
    }

    message YoutubeModel {
        optional ViewModel view_model = 1;
        optional ModelContext context = 3;
    }

    message CellDividerModel {
        optional DividerStyle divider_style = 1;
        optional float bottom_padding = 5;
        optional ModelContext context = 6;
    }

    message TranscriptSectionModel {
        message ModelRenderer {
            optional RendererLabel section_title = 1;
            optional RendererLabel sub_header_text = 2;
            optional Renderer primary_button = 4;
            optional bytes tracking_params = 6;
        }

        optional ModelRenderer renderer = 2;
        optional ModelContext context = 4;
    }

    message InfocardsSectionModel {
        message ModelRenderer {
            optional Renderer creator_videos_button = 3;
            optional Renderer creator_about_button = 4;
            repeated Renderer infocards = 5 [packed = false];
            required string infocard_highlight_status_key = 6;
            repeated ViewModel creator_custom_url_buttons = 10 [packed = false];
            optional bytes tracking_params = 12;
            optional ViewModel compact_channel_bar_view_model = 13;
        }

        optional ModelRenderer renderer = 1;
        optional ModelContext context = 2;
    }

    message BottomSheetFooterModel {
        message FooterContent {
            message IconContent {
                required string icon_name = 1;
            }
            required string dismiss_text = 1;
            optional IconContent icon_content = 2;
        }

        optional FooterContent footer_content = 1;
        optional ModelContext context = 4;
    }

    oneof models {
        ProductItemModel product_item_model                         = 212837938;
        ProductEngagementPanelModel product_engagement_panel_model  = 215356354;
        BottomSheetFooterModel bottom_sheet_footer_model            = 275876139;
        VideoDescriptionHeaderModel video_description_header_model  = 290800601;
        FilterChipBarModel filter_chip_bar_model                    = 303917328;
        CellDescriptionBodyModel description_body_model             = 332574303;
        CellDividerModel cell_divider_model                         = 347043917;
        GamingSectionModel gaming_section_model                     = 349453988;
        InfocardsSectionModel infocards_section_model               = 371385544;
        VideoMetadataModel video_metadata_model                     = 377581260;
        CompactChannelBarModel compact_channel_bar_model            = 391108665;
        TranscriptSectionModel transcript_section_model             = 397126334;
        OverflowMenuItemModel overflow_menu_item_model              = 407694004;
        YoutubeModel youtube_model                                  = 413471385;
        ExpandableListModel expandable_list_model                   = 520039324;
    }
}
